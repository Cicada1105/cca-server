"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.displayCardListener=displayCardListener;exports.displayEditingCardListener=displayEditingCardListener;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function handleControlListeners(displayEl){var controlMethods=this;var controlsCont=displayEl.lastElementChild;var icons=controlsCont.getElementsByTagName("i");icons[0].remove();icons[0].remove();var addBtnCont=document.getElementById("ctrlBtnAdd");var clearBtnCont=document.getElementById("ctrlBtnClear");var addIcon=document.createElement("i");addIcon.classList.add("fas","fa-check-circle");var clearIcon=document.createElement("i");clearIcon.classList.add("fas","fa-times-circle");addBtnCont.appendChild(addIcon);clearBtnCont.appendChild(clearIcon);var icon1=icons[0];var icon2=icons[1];if(getComputedStyle(displayEl).display==="block"){icon1.addEventListener("click",controlMethods.submitMethod,{capture:false,once:true});icon2.addEventListener("click",controlMethods.clearMethod,{capture:false,once:true});}}function displayCardListener(event){var displayEl=this.displayEl,displayData=this.displayData,controlMethods=this.controlMethods;var cardFunction=event.target.classList.contains("fa-edit")?"Edit":"Add";displayEl.getElementsByClassName("cardFunction")[0].textContent=cardFunction;if(displayData){var form=document.getElementById("addForm");var elements=form.elements;displayData.forEach(function(val,key){return elements[key].value=val;});window.scrollTo({top:0,behavior:"smooth"});}else{var clearBtnCont=document.getElementById("ctrlBtnClear");var icon=clearBtnCont.firstElementChild;var clickEvent=new MouseEvent("click");icon.dispatchEvent(clickEvent);}displayEl.style.display=displayEl.style.display==="block"&&cardFunction.localeCompare("Add")===0?"none":"block";handleControlListeners.call(controlMethods,displayEl);}function genericEditingInputCardListener(event){var _data$idData,_data$idData2,_data$titleData;var data=this;var litId=((_data$idData=data.idData)===null||_data$idData===void 0?void 0:_data$idData.litID)||"";var editingType=((_data$idData2=data.idData)===null||_data$idData2===void 0?void 0:_data$idData2.editingType)||"";var literatureType=((_data$titleData=data.titleData)===null||_data$titleData===void 0?void 0:_data$titleData.literatureType)||"";var dataType=data.titleData["dataType"];var submitMethod=data.controlMethods["submitMethod"];var clearMethod=data.controlMethods["clearMethod"];var displayEl=data["displayEl"];var cardFunction=event.target.classList.contains("fa-edit")?"Edit":"Add";displayEl.getElementsByClassName("cardFunction")[0].textContent=cardFunction;literatureType&&(displayEl.getElementsByClassName("litType")[0].textContent=literatureType);displayEl.getElementsByClassName("dataType")[0].textContent=dataType;var controlsCont=displayEl.getElementsByClassName("confirmDeclineBtns")[0];var cancelBtn=controlsCont.firstElementChild;var confirmBtn=controlsCont.lastElementChild;if(displayEl.style.display==="none"){cancelBtn.removeEventListener("click",clearMethod,{capture:false,once:true});confirmBtn.removeEventListener("click",submitMethod,{capture:false,once:true});}else{cancelBtn.addEventListener("click",clearMethod,{capture:false,once:true});confirmBtn.value=cardFunction;confirmBtn.setAttribute("data-id",event.target.dataset["id"]);litId&&confirmBtn.setAttribute("data-litId",litId);editingType&&confirmBtn.setAttribute("data-editingType",editingType);confirmBtn.addEventListener("click",submitMethod,{capture:false,once:true});}}function displayEditingCardListener(event){var displayEl=this.displayEl,displayData=this.displayData;var layOver=document.getElementById("backDrop");if(displayData){var articleInput=displayEl.getElementsByClassName("input")[0];var formEl=articleInput.firstElementChild;var elements=formEl.elements;if(displayData.size===4)elements["flatRate"].parentElement.style.display="none";else if(displayData.size===5)elements["flatRate"].parentElement.style.display="block";displayData.forEach(function(val,key){return elements[key].value=val;});}layOver.style.display="block";displayEl.style.display="block";genericEditingInputCardListener.call(_objectSpread(_objectSpread({},this),{},{displayEl:displayEl}),event);}