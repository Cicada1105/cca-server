"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.displayInputCard=displayInputCard;exports.displayServiceInputCard=displayServiceInputCard;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function handleControlListeners(displayEl){var controlMethods=this;var controlsCont=displayEl.lastElementChild;var icons=controlsCont.getElementsByTagName("i");var id=undefined;icons[0].hasAttribute("data-id")&&(id=icons[0].dataset["id"]);icons[0].remove();icons[0].remove();var addBtnCont=document.getElementById("ctrlBtnAdd");var clearBtnCont=document.getElementById("ctrlBtnClear");var addIcon=document.createElement("i");addIcon.classList.add("fas","fa-check-circle");var clearIcon=document.createElement("i");clearIcon.classList.add("fas","fa-times-circle");addBtnCont.appendChild(addIcon);clearBtnCont.appendChild(clearIcon);var icon1=icons[0];var icon2=icons[1];id&&icon1.setAttribute("data-id",id);if(getComputedStyle(displayEl).display==="block"){icon1.addEventListener("click",controlMethods.submitMethod,{capture:false,once:true});icon2.addEventListener("click",controlMethods.clearMethod,{capture:false,once:true});}}function displayInputCard(event){var displayEl=this.displayEl,displayData=this.displayData,controlMethods=this.controlMethods;var targetEl=event.target;var cardFunction=targetEl.classList.contains("fa-edit")?"Edit":"Add";displayEl.getElementsByClassName("cardFunction")[0].textContent=cardFunction;if(displayData){var form=document.getElementById("addForm");var elements=form.elements;displayData.forEach(function(val,key){return elements[key].value=val;});var id=targetEl.dataset["id"];var editBtnConfirm=document.getElementById("ctrlBtnAdd");var editBtnConfirmIcon=editBtnConfirm.firstElementChild;editBtnConfirm.firstElementChild.setAttribute("data-id",targetEl.dataset["id"]);window.scrollTo({top:0,behavior:"smooth"});}else{var clearBtnCont=document.getElementById("ctrlBtnClear");var icon=clearBtnCont.firstElementChild;var clickEvent=new MouseEvent("click");icon.dispatchEvent(clickEvent);var _editBtnConfirm=document.getElementById("ctrlBtnAdd");_editBtnConfirm.firstElementChild.removeAttribute("data-id");}displayEl.style.display=displayEl.style.display==="block"&&cardFunction.localeCompare("Add")===0?"none":"block";handleControlListeners.call(controlMethods,displayEl);}function genericServiceInputCardListener(event){var _data$titleData;var data=this;var submitMethod=data.controlMethods["submitMethod"];var clearMethod=data.controlMethods["clearMethod"];var displayEl=data["displayEl"];var controlsCont=displayEl.getElementsByClassName("confirmDeclineBtns")[0];var cancelBtn=controlsCont.firstElementChild;var confirmBtn=controlsCont.lastElementChild;var cardFunction=event.target.classList.contains("fa-edit")?"Edit":"Add";displayEl.getElementsByClassName("cardFunction")[0].textContent=cardFunction;var cardType=((_data$titleData=data.titleData)===null||_data$titleData===void 0?void 0:_data$titleData.cardType)||"";cardType&&(displayEl.getElementsByClassName("cardType")[0].textContent=cardType);var dataType=data.titleData["dataType"];displayEl.getElementsByClassName("dataType")[0].textContent=dataType;cancelBtn.addEventListener("click",clearMethod,{capture:false,once:true});confirmBtn.addEventListener("click",submitMethod,{capture:false});confirmBtn.value=cardFunction;var dataID=event.target.dataset["id"]||"";dataID&&confirmBtn.setAttribute("data-id",dataID);if(data.idData){confirmBtn.setAttribute("data-cardid",data.idData.cardID);var editingType=data.idData.editingType||"";editingType&&confirmBtn.setAttribute("data-editingtype",editingType);}}function displayServiceInputCard(event){var displayEl=this.displayEl,displayData=this.displayData;var layOver=document.getElementById("backDropCont");if(displayData){var articleInput=displayEl.getElementsByClassName("input")[0];var formEl=articleInput.firstElementChild;var elements=formEl.elements;if(displayData.has("flatRate"))elements["flatRate"].parentElement.style.display="block";else if(displayData.has("min"))elements["flatRate"].parentElement.style.display="none";displayData.forEach(function(val,key){return elements[key].value=val;});}layOver.style.display="block";displayEl.style.display="block";document.body.style.overflowY="hidden";genericServiceInputCardListener.call(_objectSpread(_objectSpread({},this),{},{displayEl:displayEl}),event);}