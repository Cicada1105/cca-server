"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.applyPastCardListeners=applyPastCardListeners;exports.applyCollaboratorCardListeners=applyCollaboratorCardListeners;exports.applyAnecdoteCardListeners=applyAnecdoteCardListeners;exports.applyPresentCardListeners=applyPresentCardListeners;exports.applyFutureCardListeners=applyFutureCardListeners;exports.applySingleInpuutListeners=applySingleInpuutListeners;exports.applyRateCardListeners=applyRateCardListeners;exports.applyAddLiteratureTypeListeners=applyAddLiteratureTypeListeners;exports.applyReedmakinglisteners=applyReedmakinglisteners;var _helperFunctions=require("./helperFunctions.js");function applyPastCardListeners(addForm){var fileInputBtn=addForm.getElementsByClassName("fileCont")[0].firstElementChild;var instrumentsCont=document.getElementById("instrumentsCont");var addInstrumentBtn=instrumentsCont.querySelector("input[type='button']");if(getComputedStyle(addForm).display==="block"){fileInputBtn.addEventListener("change",_helperFunctions.fileSelect,{capture:false});addInstrumentBtn.addEventListener("click",_helperFunctions.addToList,{capture:false});}else{fileInputBtn.removeEventListener("change",_helperFunctions.fileSelect,{capture:false});addInstrumentBtn.removeEventListener("click",_helperFunctions.addToList,{capture:false});}}function applyCollaboratorCardListeners(addForm){var fileInputBtn=addForm.getElementsByClassName("fileCont")[0].firstElementChild;if(getComputedStyle(addForm).display==="block")fileInputBtn.addEventListener("change",_helperFunctions.fileSelect,{capture:false});else fileInputBtn.removeEventListener("change",_helperFunctions.fileSelect,{capture:false});}function applyAnecdoteCardListeners(addForm){var fileInputBtn=addForm.getElementsByClassName("fileCont")[0].firstElementChild;if(getComputedStyle(addForm).display==="block")fileInputBtn.addEventListener("change",_helperFunctions.fileSelect,{capture:false});else fileInputBtn.removeEventListener("change",_helperFunctions.fileSelect,{capture:false});}function applyPresentCardListeners(addForm){}function applyFutureCardListeners(addForm){var instrumentsCont=addForm.querySelector("#instrumentsCont");var addInstrumentBtn=instrumentsCont.querySelector("input[type='button']");if(getComputedStyle(addForm).display==="none")addInstrumentBtn.addEventListener("click",_helperFunctions.addToList,{capture:false});else addInstrumentBtn.removeEventListener("click",_helperFunctions.addToList,{capture:false});}function applySingleInpuutListeners(inputCard){var form=inputCard.firstElementChild;}function applyRateCardListeners(inputCard){var article=inputCard.getElementsByClassName("input")[0];var form=article.firstElementChild;var checkbox=form.querySelector("input[type='checkbox']");var flatRateRow=form.getElementsByClassName("inputRow")[2];var checkFunction=function checkFunction(){flatRateRow.style.display=checkbox.checked?"block":"none";};checkbox.addEventListener("change",checkFunction);return function(){return checkbox.removeEventListener("change",checkFunction);};}function applyAddLiteratureTypeListeners(addCard){var article=addCard.getElementsByClassName("input")[0];var form=article.firstElementChild;var genreInputRow=document.getElementById("genresCont");var addGenreBtn=genreInputRow.getElementsByClassName("addIcon")[0];addGenreBtn.addEventListener("click",_helperFunctions.addGenreToList);var ratesSection=form.getElementsByClassName("rates")[0];var rateTablesCssSelector="table[class $= 'RatesInputTable']";var flatRateColsCssSelector="td:nth-of-type(3)";var checkBox=ratesSection.querySelector("input[type = 'checkbox']");var flatRateCols=ratesSection.querySelectorAll(flatRateColsCssSelector);var colStyle="".concat(rateTablesCssSelector," ").concat(flatRateColsCssSelector," { display:block; }");var checkBoxCallback=function checkBoxCallback(){flatRateCols.forEach(function(colItem){return colItem.style.display=checkBox.checked?"block":"none";});var localStyleSheet=document.styleSheets[7];var localStyleSheetLen=localStyleSheet.cssRules.length;checkBox.checked?localStyleSheet.insertRule(colStyle,localStyleSheetLen):localStyleSheet.removeRule(localStyleSheetLen-1);};checkBox.addEventListener("change",checkBoxCallback);var ratesTablesNodes=form.querySelectorAll(rateTablesCssSelector);var ratesTable=Array.from(ratesTablesNodes);var cleanupFunctions=new Map();ratesTable.forEach(function(table){var ratesTableBody=table.lastElementChild;var ratesInputRow=ratesTableBody.firstElementChild;var addBtnTD=ratesInputRow.lastElementChild;var addRateBtn=addBtnTD.firstElementChild;addRateBtn.addEventListener("click",_helperFunctions.addRateToList);var ratesTableCaption=table.firstElementChild;var ratesCaptionHeader=ratesTableCaption.firstElementChild;cleanupFunctions.set("".concat(ratesCaptionHeader.textContent," rate"),function(){return addRateBtn.removeEventListener("click",_helperFunctions.addRateToList);});});return function(){addGenreBtn.removeEventListener("click",_helperFunctions.addGenreToList);addRateBtn.removeEventListener("click",_helperFunctions.addRateToList);checkbox.removeEventListener("change",checkBoxCallback);cleanupFunctions.forEach(function(func){return func();});};}function applyReedmakinglisteners(addForm){}